<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="lzg">
        <link rel="canonical" href="https://zglzg.github.io/mkdocs-docs-zh/user-guide/deploying-your-docs/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>部署文档 - MkDocs中文文档</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
        <link href="../../css/extra.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/django.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">MkDocs中文文档</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">主页</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">用户指南 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../writing-your-docs/" class="dropdown-item">编写文档</a>
</li>
                                    
<li>
    <a href="../styling-your-docs/" class="dropdown-item">设置文档样式</a>
</li>
                                    
<li>
    <a href="../configuration/" class="dropdown-item">配置文件</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">部署文档</a>
</li>
                                    
<li>
    <a href="../custom-themes/" class="dropdown-item">自定义主题</a>
</li>
                                    
<li>
    <a href="../plugins/" class="dropdown-item">插件</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">关于 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../about/release-notes/" class="dropdown-item">发行说明</a>
</li>
                                    
<li>
    <a href="../../about/contributing/" class="dropdown-item">贡献</a>
</li>
                                    
<li>
    <a href="../../about/license/" class="dropdown-item">许可</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../configuration/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../custom-themes/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/zglzg/mkdocs-docs-zh/" class="nav-link"><i class="fa fa-github"></i> GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#_1" class="nav-link">部署文档</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#github-pages" class="nav-link">GitHub Pages</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#read-the-docs" class="nav-link">Read the Docs</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#_3" class="nav-link">其他提供商</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#404" class="nav-link">404页面</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="_1">部署文档<a class="headerlink" href="#_1" title="Permanent link"></a></h1>
<p>将文档部署到各种托管服务提供商的基本指南</p>
<hr />
<h2 id="github-pages">GitHub Pages<a class="headerlink" href="#github-pages" title="Permanent link"></a></h2>
<p>如果您在<a href="https://github.com/">GitHub</a>上托管项目的源代码，则可以轻松使用<a href="https://pages.github.com/">GitHub Pages</a>来托管项目的文档。GitHub页面有两种基本类型：<a href="https://help.github.com/articles/user-organization-and-project-pages/#project-pages-sites">Project Pages</a>站点和<a href="https://help.github.com/articles/user-organization-and-project-pages/#user-and-organization-pages-sites">User and Organization Pages</a>站点。它们几乎完全相同但有一些重要的区别，在部署时需要不同的工作流程。</p>
<h3 id="project-pages">Project Pages<a class="headerlink" href="#project-pages" title="Permanent link"></a></h3>
<p>项目页面站点更简单，因为站点文件被部署到项目存储库中的分支（默认情况下为“gh-pages”）。 在“checkout”git存储库的主要工作分支（通常是<code>master</code>）之后，您可以在其中维护项目的源文档，运行以下命令：</p>
<pre><code class="language-sh">mkdocs gh-deploy
</code></pre>
<p>就是这么简单就完成了部署！ MkDocs将构建您的文档并使用<a href="https://github.com/davisp/ghp-import">ghp-import</a>工具将它们提交到<code>gh-pages</code>分支，然后将<code>gh-pages</code>分支推送到GitHub。</p>
<p>使用<code>mkdocs gh-deploy --help</code>获取可用于<code>gh-deploy</code>命令的完整选项列表。</p>
<p>请注意，在将其推送到GitHub之前，您将无法查看构建的站点。 因此，您可能希望通过使用<code>build</code>或<code>serve</code>命令并在本地查看构建的文件来验证您对文档所做的任何更改。</p>
<div class="admonition warning">
<p class="admonition-title">警告：</p>
<p>如果使用<code>gh-deploy</code>命令，则不应手动编辑页面存储库中的文件，因为手动所作的更改在下次运行该命令的时候将丢失。 </p>
</div>
<h3 id="organization-and-user-pages">Organization and User Pages<a class="headerlink" href="#organization-and-user-pages" title="Permanent link"></a></h3>
<p>User and Organization Pages站点不依赖于特定项目，站点文件部署到以“GitHub”帐户名命名的专用存储库中的“master”分支。 因此，您需要在本地系统上使用两个存储库的工作副本。 例如，请考虑以下文件结构：</p>
<pre><code class="language-no-highlight">my-project/
    mkdocs.yml
    docs/
orgname.github.io/
</code></pre>
<p>在制作并验证项目更新后，您需要将目录更改为<code>orgname.github.io</code>存储库并从那里调用<code>mkdocs gh-deploy</code>命令：</p>
<pre><code class="language-sh">cd ../orgname.github.io/
mkdocs gh-deploy --config-file ../my-project/mkdocs.yml --remote-branch master
</code></pre>
<p>需要注意的是，您需要显式指向<code>mkdocs.yml</code>配置文件，因为它不再位于当前工作目录中。 您还需要通知部署脚本提交到<code>master</code>分支。 您可以使用<a href="../configuration/#remote_branch">remote_branch</a>配置设置覆盖默认值，但是如果您在运行部署脚本之前忘记更改目录，它将提交到可能不是你期望的项目的<code>master</code>分支。</p>
<p>请注意，在将其推送到GitHub之前，您将无法查看构建的站点。 因此，您可能希望通过使用<code>build</code>或<code>serve</code>命令并在本地查看构建的文件来验证您对文档所做的任何更改。</p>
<div class="admonition warning">
<p class="admonition-title">警告：</p>
<p>如果使用<code>gh-deploy</code>命令，则不应手动编辑页面存储库中的文件，因为手动所作的更改在下次运行该命令的时候将丢失。 </p>
</div>
<h3 id="_2">自定义域名<a class="headerlink" href="#_2" title="Permanent link"></a></h3>
<p>GitHub Pages支持为您的站点使用[自定义域名]。除了GitHub记录的步骤之外，您还需要执行一个额外的步骤，以便MkDocs可以与您的自定义域一起使用。您需要将“CNAME”文件添加到<a href="../configuration/#docs_dir">docs_dir</a>的根目录中。该文件必须在一行中包含一个裸域或子域（请参阅MkDocs自己的[CNAME文件]作为示例）。您可以手动创建文件，或使用GitHub的Web界面设置自定义域（在Settings/Custom Domain下）。如果您使用Web界面，GitHub将为您创建<code>CNAME</code>文件并将其保存到“pages”分支的根目录。因此，下次部署时不会删除该文件，您需要将文件复制到<code>docs_dir</code>。将文件正确地包含在<code>docs_dir</code>中，MkDocs将在您构建的站点中包含该文件，并在每次运行<code>gh-deploy</code>命令时将其推送到“pages”分支。</p>
<p>如果您在使自定义域名时遇到问题，请参阅<a href="https://help.github.com/articles/troubleshooting-custom-domains/">Troubleshooting custom domains</a>的GitHub文档。</p>
<h2 id="read-the-docs">Read the Docs<a class="headerlink" href="#read-the-docs" title="Permanent link"></a></h2>
<p><a href="https://readthedocs.org/">Read the Docs</a>提供免费文档托管。您可以使用任何主要版本控制系统导入文档，包括Mercurial，Git，Subversion和Bazaar。Read the Docs支持MkDocs开箱即用。 按照其网站上的[说明]正确排列存储库中的文件，创建一个帐户并将其指向您公开托管的存储库。如果配置正确，每次将提交推送到公共存储库时，文档都会更新。</p>
<div class="admonition note">
<p class="admonition-title">注意：</p>
<p>要从Read the Docs提供的所有<a href="https://read-the-docs.readthedocs.io/en/latest/features.html">功能</a>中受益，您需要使用MkDocs附带的<a href="../styling-your-docs/#readthedocs">Read the Docs主题</a>。 Read the Docs文档中提到的各种主题是Sphinx特定主题，不适用于MkDocs。</p>
</div>
<h2 id="_3">其他提供商<a class="headerlink" href="#_3" title="Permanent link"></a></h2>
<p>任何可以提供静态文件的托管服务的提供商都可以用来部署MkDocs生成的文档。虽然不能一一提供每个服务商的部署方式，但是以下指南可以提供一些一般性的帮助。 </p>
<p>当您构建站点时（使用<code>mkdocs build</code>命令），所有文件都将写入您的<code>mkdocs.yaml</code>配置文件中给<a href="../configuration/#site_dir">site_dir</a>选项所设置的目录中（默认为“site”）。 通常，您只需将该目录的内容复制到托管服务提供商服务器的根目录。 根据您的托管服务提供商的设置，您可能需要使用图形或命令行<a href="https://en.wikipedia.org/wiki/File_Transfer_Protocol">ftp</a>，<a href="https://en.wikipedia.org/wiki/Secure_Shell">ssh</a>或<a href="https://en.wikipedia.org/wiki/Secure_copy">scp</a>客户端来传输文件。</p>
<p>例如，命令行中的一组典型命令可能如下所示：</p>
<pre><code class="language-sh">mkdocs build
scp -r ./site user@host:/path/to/server/root
</code></pre>
<p>当然，您需要将“user”替换为您的托管服务提供商的用户名，“host”替换为你自己的域名。 此外，您需要调整路径<code>/path/to/server/root</code>以匹配主机文件系统的配置。</p>
<p>有关详细信息，请参阅相应服务商的说明文档。 您可能希望在其文档中搜索“ftp”或“上传站点(uploading site)”。</p>
<h2 id="404">404页面<a class="headerlink" href="#404" title="Permanent link"></a></h2>
<p>当MkDocs构建文档时，它将在<a href="../configuration/#site_dir">构建目录</a>中包含一个404.html文件。 部署到<a href="#github-pages">GitHub</a>时，将自动使用此文件，但仅限于自定义域名。其他Web服务器可以配置使用它，但该功能并不总是可用。 有关详细信息，请参阅所选Web服务器的文档。</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright &copy; 2014 <a href="https://twitter.com/_tomchristie" target="_blank">Tom Christie</a>, Maintained by the <a href="/about/release-notes/#maintenance-team" target="_blank">MkDocs Team</a>.</p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/jquery-3.6.0.min.js"></script>
        <script src="../../js/bootstrap.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
